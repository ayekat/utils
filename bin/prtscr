#!/usr/bin/env sh

# Take a screenshot, store it to a given directory, and notify the user.
#
# Written by ayekat on a rainy friday afternoon in february 2014.

HOME="${HOME:-$(getent passwd "$(id -u)" | cut -d: -f6)}"
XDG_TMP_HOME="${XDG_TMP_HOME:-$HOME/tmp}"

# Place where the screenshot shall be stored to:
SCROT_FULL_DIR="$HOME"/media/img/scrot
SCROT_SEL_DIR="$XDG_TMP_HOME"

file='%Y-%m-%d_%H%M%S.png'

if [ "$1" = '-s' ]; then
	# Screen selections to $SCROT_SEL_DIR:
	cd "$SCROT_SEL_DIR" && scrot -s "$file"
else
	# Full screens to $SCROT_FULL_DIR:
	cd "$SCROT_FULL_DIR" && scrot "$file"
fi

# Notify user:
notify-send 'PrtScr' 'Screenshot taken'
