#!/usr/bin/env sh
# Download Arch Linux package sources to a directory.

if [ -n "$1" ]; then
	repo="$(expac -S '%r' "$1")"
	case "$repo" in
		community) ;;
		core|extra) repo=packages ;;
		*) echo "unknown repository for $1" >&2; exit 1 ;;
	esac
	git clone "https://git.archlinux.org/svntogit/${repo}.git" \
		--single-branch -b packages/"$1" "$1"
else
	echo "Please specify a package name" >&2
	exit 1
fi
