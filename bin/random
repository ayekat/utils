#!/usr/bin/env sh

# Wrapper around coreutils' `shuf` that prints a random value between two limits
# (inclusive).

set -e

die()
{
	printf "$@" >&2
	echo >&2
	exit 1
}

is_integer() { case "$1" in (''|*[!0-9]*) false; esac; }

[ -n "$1" ] || die 'Usage: %s MIN MAX' "$(basename $0)"
is_integer "$1" || die 'Not an integer: `%s`' "$1"

[ -n "$2" ] || die 'Please specify a maximum'
is_integer "$2" || die 'Not an integer: `%s`' "$2"

[ $# -eq 2 ] || die "Trailing arguments: $@"

test $2 -ge $1 || die 'Maximum must not be smaller than minimum'

shuf -i $1-$2 -n 1
