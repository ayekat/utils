#!/usr/bin/env zsh
# List all pacman packages that are installed explicitly while *also* being a
# dependency of another package (i.e. "potentially redundantly installed
# packages").

exec diff \
	<(pacman -Qqe | sort) \
	<({ pacman -Qqett && pacman -Qqg base-devel; } | sort -u) \
	| grep '^<' | cut -d' ' -f2
